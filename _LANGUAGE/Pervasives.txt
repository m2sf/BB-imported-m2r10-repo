(C) 2009, 2010 by B.Kowarsch & R.Sutcliffe. All rights reserved.

M2R10 PERVASIVE IDENTIFIERS

1) Predefined Constants

NIL         invalid pointer value
TRUE        boolean value, BOOLEAN.TRUE
FALSE       boolean value, BOOLEAN.FALSE

2) Predefined Types

BOOLEAN     boolean type
BITSET      bitset type of same size as CARDINAL
LONGBITSET  bitset type of same size as LONGCARD
CHAR        7-bit character type, first 128 code points of UTF-8
UNICHAR     4-octet character type, full character set of UTF-32
OCTET       unsigned 8-bit integer type
CARDINAL    unsigned integer type, 2*n octets for n >= 1
LONGCARD    unsigned integer type, 2*n octets for n >= 1
INTEGER     signed integer type, 2*n octets for n >= 1
LONGINT     signed integer type, 2*n octets for n >= 1
REAL        real number type
LONGREAL    double precision real number type

3) Predefined Macro Procedures

NEW(p)      invokes ALLOCATE(p, TSIZE(typeOf(p^))
NEW(p, n)   invokes ALLOCATE(p, TSIZE(typeOf(p^) + n * TSIZE(elemType))
DISPOSE(p)  invokes DEALLOCATE(p, SIZE(p^))
READ(f, x)  invokes typeOf(x).Read(f, x)
WRITE(f, x) invokes typeOf(x).Write(f, x)
WRITEF(f, fmtStr, x, ...) invokes typeOf(x).WriteF(f, fmtStr, x, ...)

* for ALLOCATE and DEALLOCATE refer to standard library module Storage
* for Read, Write, WriteF refer to any type IO module, eg. module OCTET

4) Predefined Functions

ABS(x)      returns the absolute value of x
NEG(x)      returns the sign reversed value of x
ODD(x)      returns TRUE if x is an odd number
PRED(x, n)  returns the n-th predecessor of x
SUCC(x, n)  returns the n-th successor of x
ORD(x)      returns the ordinal value of x
CHR(x)      returns the character for code point x
COUNT(c)    returns the item count of set/collection
SIZE(v)     returns the allocated size of variable v
HIGH(a)     returns the highest subscript of array or indexed variadic list
LENGTH(s)   returns the length of character string s
NEXTV(v)    returns pointer to next item in value-terminated variadic list
TMIN(T)     returns smallest legal value of type T
TMAX(T)     returns largest legal value of type T
TSIZE(T)    returns number of octets required to allocate variable of type T

5) Built-in Compile-Time Expression Macros

MIN(c1, c2, c3, ...) inserts smallest constant in argument list
MAX(c1, c2, c3, ...) inserts largest constant in argument list
VAL(T, x)   equivalent of type conversion expression x :: T

[status: May 16, 2010]