(* (C) 2012 by B.Kowarsch & R.Sutcliffe. All rights reserved. *)

(* General Contract Definition for Scalar and Non-Scalar Numeric ADTs *)

CONTRACT ProtoNumeric; (* root of numeric meta types *)

(* Numeric ADTs must be records to be statically allocatable,
   the following literals may be used:
   o  integer or real number literals
   o  structured literals constructed from real number literals *)

TYPE = RECORD | OPAQUE RECORD := INTEGER | REAL | { .. } OF REAL;


(* Bindings required for numeric ADTs *)

(* The operations TMIN and TMAX are meaningful only for scalar types,
   their bindings may be required by more specialised prototypes *)

(* The operations SXF and VAL are meaningful only for scalar types
   their bindings may be required by more specialised prototypes *)

(* The operations ABS, NEG and ODD are not common to all numeric types,
   their bindings may be required by more specialised prototypes *)


(* Bindings to dyadic operations *)

PROCEDURE [+] add ( op1, op2 : ProtoNumeric ) : ProtoNumeric;
(* procedure to bind to the + operator for operands of the numeric ADT *)

PROCEDURE [-] subtract ( op1, op2 : ProtoNumeric ) : ProtoNumeric;
(* procedure to bind to the - operator for operands of the numeric ADT *)

(* The operations *, /, DIV and MOD are not common to all numeric types,
   their bindings may be required by more specialised prototypes *)


(* Bindings to relational operations *)

PROCEDURE [=] isEqual ( op1, op2 : ProtoNumeric ) : BOOLEAN;
(* procedure to bind to the = operator for operands of the numeric ADT *)

(* The operation for the # operator is synthesized as NOT (op1 = op2) *)

(* The operations < and > are meaningful only for scalar types,
   their bindings may be required by more specialised prototypes *)


END ProtoNumeric.