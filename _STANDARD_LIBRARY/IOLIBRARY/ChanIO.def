(* (C) 2016 by B.Kowarsch & R.Sutcliffe. All rights reserved. *)

DEFINITION MODULE ChanIO;

(* Channel Based IO *)

IMPORT IOSIZE;

(* Channel Root Type *)

TYPE Channel = POINTER TO Descriptor;

(* Channel Root Descriptor *)

TYPE Descriptor = RECORD ( NIL )
  (* method slots for generic input *)
  ready : PROCEDURE ( Channel ) : BOOLEAN;
  Get   : PROCEDURE ( Channel, VAR OCTET);
  GetN  : PROCEDURE ( Channel, VAR ARRAY OF OCTET, IOSIZE );
  (* method slots for generic output *)
  Put   : PROCEDURE ( Channel, OCTET);
  PutN  : PROCEDURE ( Channel, ARRAY OF OCTET, IOSIZE );
  Sync  : PROCEDURE ( Channel )
END;

END ChanIO.