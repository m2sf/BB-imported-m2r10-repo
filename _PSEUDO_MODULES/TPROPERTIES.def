(* (C) 2015 by B.Kowarsch & R.Sutcliffe. All rights reserved. *)

DEFINITION MODULE TPROPERTIES;

(* Classification *)

TYPE TPROPERTIES = SET OF PROPERTY;

TYPE PROPERTY =
  ( isComputational, isNumber, isScalar, isCountable, isSigned,
    isCollection, isIndexed, isRigid, isSet, isMultiSet, isDict, isMultiDict );


(* Querying Classification Properties *)

(*MACRO*) PROCEDURE TPROPERTY ( T : <TypeIdent>; p : PROPERTY ) : BOOLEAN;
(* Replaced by TRUE if type T has property p, otherwise FALSE. *)


(* Querying Memory Management Properties *)

(* MACRO *) PROCEDURE TDYN ( T : <TypeIdent> ) : BOOLEAN;
(* Replaced by TRUE if type T uses dynamic allocation, otherwise FALSE. *)

(* MACRO *) PROCEDURE TREFC ( <Type> ) : BOOLEAN;
(* Replaced by TRUE if type T is reference counted, otherwise FALSE. *)


(* Querying Collection Properties *)

(* MACRO *) PROCEDURE TNIL ( <CollectionType> ) : BOOLEAN;
(* Replaced by TRUE if type T supports storage of NIL as a value,
   otherwise FALSE. *)

(* For macro TLIMIT, see documentation module PREDEFINED.def *)

(* Any invocation of the above macro with an argument that is not an
   identifier of a collection type will cause a compile time error. *)


(* Querying Scalar Properties *)

(* MACRO *) PROCEDURE TBASE ( T : <ScalarType> ) : CARDINAL;
(* Replaced by the radix of type T. *)

(* MACRO *) PROCEDURE TPRECISION ( T : <ScalarType> ) : CARDINAL;
(* Replaced by the precision of type T.*)

(* The precision of a scalar is the number of digits of the longest
   significand that can be encoded by the type.  The replacement
   value always indicates the digits for the radix of the type. *)

(* MACRO *) PROCEDURE TMINEXP ( T : <ScalarType> ) : INTEGER;
(* Replaced by the smallest exponent that can be encoded by type T.
   The value is zero for countable types. *)

(* MACRO *) PROCEDURE TMAXEXP ( <ScalarType> ) : CARDINAL;
(* Replaced by the largest exponent that can be encoded by type T.
   The value is zero for countable types. *)

(* Any invocation of scalar property macros with an argument that is
   not an identifier of a scalar type will cause a compile time error. *)


END TPROPERTIES.